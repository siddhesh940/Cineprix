'use client';\n\nimport { useState, useEffect } from 'react';\nimport { IMovie } from '@/types/api-response';\nimport { useFavorites } from '@/context/enhanced-favorites-context';\nimport { RecommendationService } from '@/utils/recommendation-service';\nimport { Sparkles, TrendingUp } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface RecommendationBadgeProps {\n  movie: IMovie;\n  className?: string;\n}\n\nexport function RecommendationBadge({ movie, className }: RecommendationBadgeProps) {\n  const { favorites } = useFavorites();\n  const [reasons, setReasons] = useState<string[]>([]);\n  const [isRecommended, setIsRecommended] = useState(false);\n\n  useEffect(() => {\n    if (favorites.length > 0) {\n      const preferences = RecommendationService.analyzeUserPreferences(favorites);\n      const recommendationReasons = RecommendationService.getRecommendationReasons(movie, preferences);\n      setReasons(recommendationReasons);\n      setIsRecommended(recommendationReasons.length > 0);\n    }\n  }, [movie, favorites]);\n\n  if (!isRecommended || reasons.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className={cn(\n      \"absolute bottom-2 left-2 right-2 bg-gradient-to-r from-purple-600/90 to-pink-600/90 backdrop-blur-sm rounded-lg p-2 text-white text-xs z-10\",\n      className\n    )}>\n      <div className=\"flex items-center gap-1 mb-1\">\n        <Sparkles className=\"size-3\" />\n        <span className=\"font-semibold\">Recommended</span>\n      </div>\n      <div className=\"opacity-90\">\n        {reasons[0]}\n      </div>\n    </div>\n  );\n}\n\n// Enhanced Movie Card with Recommendation Badge\nexport function RecommendationMovieCard({ movie, className, showBadge = true }: {\n  movie: IMovie;\n  className?: string;\n  showBadge?: boolean;\n}) {\n  return (\n    <div className=\"relative group\">\n      {showBadge && <RecommendationBadge movie={movie} />}\n      {/* Your existing MovieCard content would go here */}\n    </div>\n  );\n}"